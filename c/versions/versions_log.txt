Major change log

5-7-2012:
Fixed derivatives such that it now solves

5-8-2012:
Changed chi to use only 3 factors, and signed difference.  Added these to calibrated parameters
version b uses a different set of f-skill weights from regression on lj_skill cj_skill rather than ||lj_skill - cj_skill ||

5-9-2012:
Allows zero applicants to places with very low probability

5-10-2012:
Version A fixes a bug in the lead-in periods of the simulations.
Version B starts to weaken the Hosios condition, but it no longer solves with fm_shr =0.95

5-11-2012:
Version A solves weakened Hosios condition, but may be wrong with finding rate
Version B&C have major problems around line 1043 where the return for W is negative.

5-16-2012:
Version B incorporates the change in the matching function and now solves even for lower, more reasonable values of kappa
	There is a problem when kappa/(frm_shr*effic*surp)>1 with the definition of theta.  Check that.
	Must have phi<=.5
	
5-24-2012:
Changed how the "safety" operates.  This was dampening fluctuations by ensuring always a non-negative surplus.
Do calibration in steps?  Calibrate parameters then estimate chi? and back and forth?
But the s_wg and s_chng look crazy

5-26-2012 
Fixed varoius serious typos, espec one dividing by effic.  Note: still does not work for effic < .75
Still, the s_wg and s_chng look crazy

6-2-2012
Changed the number of exog variables so now do not carry f_t f_t-1 everywhere.  This change happens in version b.  Check that Gamma, Lambda, var_zeta, var_eta generated by occ_pca.m

6-4-2012
Manipulating kappa has  a huge effect on the variability of unemployment
No longer calibrate with effic, just move around phi
homo skedastic zeta shocks

6-6-2012
Adding separation rate to the calibrated parameters because clearly the steady state approximation is not good on a monthly basis
There's weird things happening in that there's too much heterogeneity between occupations

6-7-2012
Add checks so that in ss markets are open: b < chi and Wdif>=0.0

6-10-2012
Added a polisher, but this does not work.  Try using a solver that uses vector-valued functions

6-14-2012
Chaning the z_i process so that there's a TFP in there and no longer uses cov_ze (i.e. cov_ze=0) and Zfcoef = 0
****** Need to read Abraham and Katz on how to make this counter cyclical

6-16-2012
As per AK (1986), need to make separations endogenous, so that adjustment is asymmetric in a recession.  
Used an exponential with negative support.  Two parameters: s_scale and s_shape.  
s_scale, s_shape are not yet integrated into the calibration but must match unemployment and variance of separation rates.  Can I do this outside of the NL-minimizer, leaving "sbar" as the average sep rate, that gets moved around and s_scale, s_shape then chosen given x dist.

6-18-2012
Separations are endogenous

6-20-2012
Now sim does not do regressions unless necessary.  Still need to change the regression it does so that it uses the full wage, which I'll solve for.  Then take logs and difference between experienced and inexperienced, as in the data

6-21-2012
Upon review, it makes more sense to make this a log-linear approximation everywhere, rather than linear approximation.  MAJOR CHANGE HERE!

6-24-2012
Changes mostly on the utils.h side, these change the inversion code to use MKL routines rather than gsl.

6-26-2012
The multi-start alg is mostly done, but for some reason the calculation of the region is not unit ciruclar.  E.g. when I look at d_region it is not within 1.

6-28-2012
Fixed a problem with the solver whereby for some values dtheta/dWld, dtheta/dWl0 are messed up.  Is this just a parameter issue?

6-29-2012
Made it much much faster by useing MKL to solve AX=B rather than inverting stuff.  Still has a problem with multi start, however, not getting to the right place.... oddly.
The slow downs seem to happen when at bad parameter values.  Could this be because it has trouble with the LU decomp there?

7-3-2012
There's lots of trouble with higher elasticity of finding, i.e. phi up near .5.  Part of this is due to the higher theta in my model than others.  Not sure why this is, other than kappa is too small?  But it matches HM!

7-4-2012
Made it work with DFBOLS, mostly.  There requires the make file now, so not sure if it'll work with Eclipse
There is a HUGE problem with the outside option and worker surplus... pretty much everywhere

7-7-2012
The g policy was evaluated to equalize the worker surplus pre-match, but should have been post match.  
Version A only fixes the steady state, not the derivatives or evaluations.

7-11-2012
fixes tons of memory leaks. 
corrects a typo in the wage equation

7-13-2012
Wages are messed up.  Where they are zero for a whole row it dies in the regression
Everything works pretty well when equal to MPL
Changed reporting so does not print objective value each test point for calibration solver
Multistart does not seem to do resi=1:starts

7-14-2012
Solved the regressions problem for II: constraining skills to the simplex meant could not invert X'X
Better initial guess using matlab code that solves for coefs if w=chi and Wt=eye

7-20-2012
Theta has the wrong cyclical correlation.  This must be something to do with E[s']

7-24-2012
The problem with theta was that W_l0 responded 1:1 with Z, rather than (1-fm_shr).  Fixes are not yet done.  Working on SS now
It solves, but is a bit dependent on the intial guess on g.  

7-25-2012
This is almost all good.  It breaks with the dt/dW on, but parameters are really far away.  A solution might be to run it with these off, find a good spot and run with it from there.

8-4-2012
Fixes the separations policy during simulations.  This seems right!

8-12-2012
Need to figure out the way to compute duration statistics given that actually there will be a distribution of durations in the actual unemployment pool

9-10-2012
This makes changes to the stochastic process so that it now follows that which obtains when I use a cubic spline to smooth between points
Includes various fixes to the duration computation

9-12-2012
Now going after only 2 skills

9-28-2012
Includes the code to estimate the stochastic process, but of the old process.  About to change to z_d in levels and without Z

10-4-2012
Process estimation allows the factor process to be fixed

11-2-2012
Most of the way there to an expiring unemployment benefit.  

12-2-2012
Change the way compute wages in ss using the Uw_ld part.  Now will re-calibrate everything

12-4-2012
Fixed the expiration-benefits economy?  

12-21-2012
A few memory leaks patched.  There's a big one somewhere
